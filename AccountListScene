// Author: David Corrales Marco

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.PrintWriter;
import java.net.Socket;
import java.util.ArrayList;

import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.VBox;
import javafx.scene.text.Font;
import javafx.scene.text.Text;

import java.util.ArrayList;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.layout.GridPane;

public class AccountListScene extends SceneBasic
{

	GridPane display = new GridPane();//container holding ...
	Text list = new Text("");
	
	public AccountListScene ()
	{
		super("Account List Menu");		

		layout.getChildren().add(display);
		Button adminMenu = new Button("AdminMenu");
		adminMenu.setOnAction(e-> SceneManager.setAdminScene());
		Button logOut = new Button("log out");
		logOut.setOnAction(e-> SceneManager.setLoginScene());
		layout.getChildren().add(adminMenu);
		layout.getChildren().add(logOut);
				
		
	}
	
	public void getAccountList() {
		
		try {
			
			Socket socket = SceneManager.getSocket();
			BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));
			PrintWriter out = new PrintWriter(SceneManager.getSocket().getOutputStream());
			
			out.println("ACCOUNTLIST");
			
			out.flush();
			
			String message = in.readLine();
			message += "\n" + in.readLine();
			
			list.setText(message);
			layout.getChildren().add(list);
						
		} catch (Exception e) {
			
		}
		
	}
}
